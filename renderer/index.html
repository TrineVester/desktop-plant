<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Desktop Plant</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <div class="plant-app">
      <div class="plant-stage" id="plantStage" aria-label="Mimosa plant">
        <svg viewBox="0 0 200 280" class="plant-svg" role="img" aria-hidden="true">
          <defs>
            <linearGradient id="stem" x1="0" x2="0" y1="0" y2="1">
              <stop offset="0%" stop-color="#68b070" />
              <stop offset="100%" stop-color="#2f7d3f" />
            </linearGradient>

            <linearGradient id="leaf" x1="0" x2="1" y1="0" y2="1">
              <stop offset="0%" stop-color="#7bd68f" />
              <stop offset="100%" stop-color="#3b8c53" />
            </linearGradient>

            <linearGradient id="potBody" x1="0" x2="0" y1="0" y2="1">
              <stop offset="0%" stop-color="#e1a06f" />
              <stop offset="100%" stop-color="#8a4a2a" />
            </linearGradient>

            <linearGradient id="potRim" x1="0" x2="0" y1="0" y2="1">
              <stop offset="0%" stop-color="#f0bf95" />
              <stop offset="100%" stop-color="#c5764a" />
            </linearGradient>

            <radialGradient id="soil" cx="50%" cy="45%" r="60%">
              <stop offset="0%" stop-color="#6a4834" />
              <stop offset="100%" stop-color="#3b2416" />
            </radialGradient>

            <radialGradient id="potHighlight" cx="30%" cy="30%" r="60%">
              <stop offset="0%" stop-color="#f5cfb0" stop-opacity="0.7" />
              <stop offset="100%" stop-color="#f5cfb0" stop-opacity="0" />
            </radialGradient>

            <!-- Only show the stem ABOVE the soil line -->
            <clipPath id="stemClip">
              <!-- soil center is y=202, so clip a hair above it -->
              <rect x="0" y="0" width="200" height="200" />
            </clipPath>
          </defs>

          <!-- 1) POT BODY (back) -->
          <g class="plant-pot" aria-hidden="true">
            <ellipse cx="100" cy="250" rx="56" ry="11" fill="#20140e" opacity="0.35" />
            <path d="M54 196h92l-10 64H64z" fill="url(#potBody)" />
            <ellipse cx="88" cy="224" rx="32" ry="28" fill="url(#potHighlight)" />
          </g>

          <!-- 2) STEM (behind rim/soil), clipped so it disappears into soil -->
          <g id="plantStem" transform="translate(0 6)" clip-path="url(#stemClip)">
            <!-- extend down into the pot so clip makes it look planted -->
            <rect x="96" y="70" width="8" height="170" rx="4" fill="url(#stem)" />
          </g>

          <!-- 3) RIM + SOIL (covers stem base) -->
          <g class="plant-pot-top" aria-hidden="true">
            <path d="M48 186h104l-6 20H54z" fill="url(#potRim)" />
          </g>

          <!-- 4) LEAVES LAST (always in front of pot top) -->
          <g id="plantLeaves" transform="translate(0 6)">
            <circle cx="100" cy="70" r="10" fill="#4b9c5b" />

            <g class="leaf-open" id="leafOpen">
              <ellipse cx="60" cy="120" rx="34" ry="14" fill="url(#leaf)" transform="rotate(-15 60 120)" />
              <ellipse cx="140" cy="120" rx="34" ry="14" fill="url(#leaf)" transform="rotate(15 140 120)" />
              <ellipse cx="50" cy="160" rx="36" ry="14" fill="url(#leaf)" transform="rotate(-20 50 160)" />
              <ellipse cx="150" cy="160" rx="36" ry="14" fill="url(#leaf)" transform="rotate(20 150 160)" />
            </g>

            <g class="leaf-closed" id="leafClosed">
              <ellipse cx="80" cy="130" rx="16" ry="36" fill="url(#leaf)" transform="rotate(-10 80 130)" />
              <ellipse cx="120" cy="130" rx="16" ry="36" fill="url(#leaf)" transform="rotate(10 120 130)" />
              <ellipse cx="80" cy="170" rx="16" ry="36" fill="url(#leaf)" transform="rotate(-10 80 170)" />
              <ellipse cx="120" cy="170" rx="16" ry="36" fill="url(#leaf)" transform="rotate(10 120 170)" />
            </g>
          </g>
        </svg>
      </div>

      <div class="status" id="statusText">Loading...</div>

      <div class="controls">
        <button id="waterBtn" class="btn">Water</button>
        <button id="fertilizeBtn" class="btn">Fertilize</button>
      </div>
    </div>

    <script src="renderer.js"></script>
  </body>
</html>
